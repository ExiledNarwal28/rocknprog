---
layout: post
title:  "GitHub repository basics"
date:   2021-01-24
categories: [project, git]
lang: en
lang-ref: github-repository-basics
---

<iframe width="560" height="315" src="https://www.youtube.com/embed/vl7yvB4-WmQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

Yo! Today, we set the some basic stuff in our GitHub repository.

In the last posts, we mostly worked in the wiki. It's enough. Let's start adding files to the repo. We'll start by making some important documentation files. Then, we'll talk about some sections of the repo we'll use.

## Documentation files

We'll do four files together : the license, code of conduct, contribution guide and README. We'll start with the license and code of conduct, since they can be autogenerated.

### `LICENSE`

It's super important to choose an appropriate license for our application. It will dictate how people can use your work.

Alright, how do we choose a license? I won't go into the legal aspect of it and into the differences between licenses. Let me send you on [Choose a License](https://choosealicense.com/), which is super good for that.

Me, I use Creative Commons for my website, videos and project, since it's educative and fictive material. I chose [BY-NC-SA version 4](https://creativecommons.org/licenses/by-nc-sa/4.0/), which says that : 

- People can share my application and my code ; 
- People can fork my repo and change my application to adapt it to their needs ; 
- To share or change my code, you have to mention I'm the author (BY) ; 
- My application and its eventual modifications cannot be used to make profit (NC) ; 
- The license I use must be shared with all future share and changes of my code (SA).

To have this license in markdown, I'll use [Jan T. Sott's repo](https://github.com/idleberg/Creative-Commons-Markdown), which contains up-to-date Creative Commons licenses. I'll mention Jan in my README.

By the way, when you add a license on GitHub, you can simply write `LICENSE` as a new file name on the root of your codebase and GitHub will give you some choices of pre-formatted licenses. Useful.

My license is pretty long. Instead of pasting it here, I'll refer you to my repo : [https://github.com/ExiledNarwal28/space-elevator/blob/main/LICENSE.md](https://github.com/ExiledNarwal28/space-elevator/blob/main/LICENSE.md)

### `CODE_OF_CONDUCT.md`

Good, the code of conduct. This describes how the team behind a project will contribute to the community.

This one is pretty simple. The ones GitHub proposes are pretty good. As with the license, you can simply write `CODE_OF_CONDUCT.md` as a new file name on the root of your codebase and you'll get some choices.

I'll use [Contributor Covenant Code of Conduct](https://www.contributor-covenant.org/). It's a code of conduct based on mutual aid and well-being of the open-source community.

Once again, that file is pretty huge. Instead of pasting it, I'll refer you to my repo : [https://github.com/ExiledNarwal28/space-elevator/blob/main/CODE_OF_CONDUCT.md](https://github.com/ExiledNarwal28/space-elevator/blob/main/CODE_OF_CONDUCT.md)

### `CONTRIBUTING.md`

We're done with autogenerated files. Let's move on to the contribution guide.

That guide describes the processes to modify the codebase. It's how, step by step, we want our code to be changed, added or deleted. When the code of conduct is not directly here, we at least reference it, since it's super related.

Personally, I use the same template from project to project and adapt it. Here are my sections : 

- A reference to the code of conduct ; 
- A task tracking guide ; 
- A development guide ; 
- The list of people who contributed to the project.

The task tracking and development guides have sub-sections. Let's see that.

#### Task tracking guide

First, I explain that I use the wiki to describe functionalities to implement in the app. That's also where we can find the stories and use-cases, as well as all documentation on what's planned. That's a good thing to say first, since it's the first step of task tracking : the requirements. So, we describe what we have to do before creating tasks (issues).

Next, I say we'll use GitHub issues. I also describe the way we plan milestones, which will have the same versioning as the releases, [Semantic Versioning 2.0.0](https://semver.org/). Basically, it's a way to represent versions in three numbers : major (breaking changes), minor (non-breaking changes) and patch (bug fix).

Then, the project board. I describe how we set issues in a kanban board. We'll come back to this later in the post.

After that, there's a section on bug reporting. First, I say that, in my own definition, a test (unit, integration or end-to-end) that does not pass is a bug, just to clarify. Then, I say that bugs must be reported as a issue with the good template. Next, we place them on the project board, in the `To do` column, on top of non-bug issues.

Then, we talk about pull requests. I tell people I use [Git Flow](https://datasift.github.io/gitflow/IntroducingGitFlow.html), which structures clearly our branch names. That has a direct impact on the clarify of our PRs. I also say that each PR must pass the CI check and have 2 approvals. I say how I want my PRs to be named and what type of review should be done. This can also be a review guide.

In this section, I also say that our development branch is `develop`. The main branch, the one with the most stable code, is `main`. Sidenote : GitHub stopped naming the main branch `master` since it's related to slavery. I strongly encourage you to follow this trench. Anyway, `main` makes sense and also starts my `m`, so it's easy to remember.

Finally, we have the definition of done. I explain that a milestone is done when all its issues are done and that a issue is done when all its requirements are fulfilled and its PR is merged.

#### Development guide

The development guide is about the technical aspect of the codebase.

It starts with the code style. I tell which code style to use for each language. Here, we only have Java to mention. I also give the command to format the code. I also tell that I don't want to see any comment in the code, expect TODOs, which can help pinpoint certain locations for issue completion. Though, I don't want to see any TODOs when we merge in `main`

Let me explain this : when I say "no TODOs", it's because making issues is a more viable option. An IDE can find all TODOs in the codebase, so for pinpointing locations, it can be useful. Though, logically, when we merge in `main`, we will transform the remaining TODOs in issues. A good idea is to write TODOs this way : `TODO #123 : Implement InMemoryAccountRepository.get(...)` where "123" is the related issue number. This makes finding where to implement code easier when working on that issue.

As for the comments, if your code is well done and you use a DDD architecture, you will rarely need comments. You code is enough easy to read to be comprehensible on its own. That's why I prefer saying I want no comment in my codebase. Have many comments to explain what's going on is a code smell. There's a better way.

Then, I say that my code must be done in TDD (Test Driven Development), which means writing unit tests before writing code. I say where the tests are and how to write them.

Good , the contribution guide is done! Here's what we have : 

<script src="https://emgithub.com/embed.js?target=https%3A%2F%2Fgithub.com%2FExiledNarwal28%2Fspace-elevator%2Fblob%2Fmain%2FCONTRIBUTING.md&style=github&showBorder=on&showLineNumbers=on&showFileMeta=on"></script>
*(available on the [project's repo](https://github.com/ExiledNarwal28/space-elevator/blob/main/CONTRIBUTING.md))*

### `README.md`

Alright, you surely all know what a README is. It's the first thing we see when entering a repo. We'll add in the most useful information on the project, how to start it and some links to resources explaining how to contribute.

[Make a README](https://www.makeareadme.com/) is very useful for creating your own README. I often use it to remember which sections are important.

First, we'll give our project a name and briefly describe it. Directly underneath the project's name, we'll add in badges when we'll have some. For instance, I like showing the CI, CD and end-to-end tests statuses. Code coverage and quality can also be placed there. The website [shields.io](https://shields.io/) has many badges ready to be integrated, if you want.

In the installation part, we'll explain how to install dependencies and build the project with Maven.

Next, we'll explain how to use the application. We only have to give the execution command and on which URL the application will be hosted. When we'll have an API documentation, we'll place it here.

Next, we talk about contribution. Of course, we'll reference our contribution guide. We'll also give commands to execute tests, create a code coverage report, apply code style and generate the API documentation.

Finally, we'll link our license.

Well, my README is pretty much the same as every Java project I've done. Hey, you don't change a winning formula. Here's what we have : 

<script src="https://emgithub.com/embed.js?target=https%3A%2F%2Fgithub.com%2FExiledNarwal28%2Fspace-elevator%2Fblob%2Fmain%2FREADME.md&style=github&showBorder=on&showLineNumbers=on&showFileMeta=on"></script>
*(available on the [project's repo](https://github.com/ExiledNarwal28/space-elevator/blob/main/README.md))*

## Sections of the repository

Alright, we're done explaining the project through various documents. Let's get into the repo's sections.

Before that, right when we enter the repo, we can leave tags for each technology used and what is related to the app. I'll leave it empty and add some tags when I'll implement stuff.

### Issues and issue templates

First, we'll talk about issues. What's that? It's a task to do to the app. I'll look fast into them, before we'll create some in the next post. Just keep in head that each issue will have : 

- A descriptive title ; 
- A reference to a use-case and/or story ; 
- Steps to completion ; 
- Steps to reproduce a bug, if the issue is a bug fix ; 
- An assigned person ; 
- Labels, to filter all that ; 
- An associated milestone ; 
- **A SINGLE PULL REQUEST**. One issue = one PR. The only reason there can be many, it's that the issue was reopened.

You know what helps as fuck? Issue templates. When somebody will create a issue, we can give some templates so the issue is written correctly.

I like having three : one for bugs, one for features and another for feature, but simplified. We'll see them together.

Issue templates are place in `.github/ISSUE_TEMPLATE`. It starts with YAML, where we can set a template name and basic settings.

Let's take the bug report template. We'll give steps to reproduce the bug and explain what should normally happen. We'll also leave spaces for screenshots and additional information, if needed.

<script src="https://emgithub.com/embed.js?target=https%3A%2F%2Fgithub.com%2FExiledNarwal28%2Fspace-elevator%2Fblob%2Fmain%2F.github%2FISSUE_TEMPLATE%2Fbug_report.md&style=github&showBorder=on&showLineNumbers=on&showFileMeta=on"></script>
*(available on the [project's repo](https://github.com/ExiledNarwal28/space-elevator/blob/main/.github/ISSUE_TEMPLATE/bug_report.md))*

Alright, what about features to implement? We'll start by a list of tasks to do. Then, we'll write what we want to implement and give additional context, if needed.

<script src="https://emgithub.com/embed.js?target=https%3A%2F%2Fgithub.com%2FExiledNarwal28%2Fspace-elevator%2Fblob%2Fmain%2F.github%2FISSUE_TEMPLATE%2Ffeature_request.md&style=github&showBorder=on&showLineNumbers=on&showFileMeta=on"></script>
*(available on the [project's repo](https://github.com/ExiledNarwal28/space-elevator/blob/main/.github/ISSUE_TEMPLATE/feature_request.md))*

Good! And the simplified version? That one, I'll make it in advance for end of iteration rush. Then, we often know more than enough what must be done and we simply want to create issues on the go to keep certain things in mind. I heavily do not recommend it, but I'm a fucking cowboy. It's the same as the feature request template, but it's only a list of tasks.

<script src="https://emgithub.com/embed.js?target=https%3A%2F%2Fgithub.com%2FExiledNarwal28%2Fspace-elevator%2Fblob%2Fmain%2F.github%2FISSUE_TEMPLATE%2Ffeature_request_simple.md&style=github&showBorder=on&showLineNumbers=on&showFileMeta=on"></script>
*(available on the [project's repo](https://github.com/ExiledNarwal28/space-elevator/blob/main/.github/ISSUE_TEMPLATE/feature_request_simple.md))*

Good, we'll make some issues in the next post.

### Project board

Good, let's look into another section of the repo : the project board!

This own will be garnished in the next post. I'll still explain how I use it.

First, I only place issues here. Since one issue has only one PR, no need to add in PRs.

As for the columns : 

- `Maybe` : Some important things to add to the backlog. Those aren't just features, those are things that must be implemented, but not right away. I have this columns because I'd rather have a `Maybe` columns than delete important issues.
- `To do` : Issues for the current iteration.
- `In progress` : Issues currently being worked on.
- `Under review` : Issues that have an open PR. We keep issues here when changes are asked by reviewers.
- `Done` : Yeah, it's merged in `develop`!

We could have another column to differentiate issues done in `develop` and `main`. We won't need this in the project, but it's a good idea.

Seriously, I encourage all teams to use a kanban board like the GitHub project board for issue tracking. Not only product owners and scrum masters : all devs. A list of issues doesn't give much information on time management. What's good is a board like such, where we can visualize the progression of our work.

### Wiki

Ok, I'll talk about the wiki. We've been in it since the start of the project, but whatever.

In my courses, I use the wiki for reports asked by the teachers. Other than that, it's a good place to add documentation about planned stuff, so stories, use-cases and all that.

If you're doing a library or package used by a lot of people and you don't have a website to host your documentation, the wiki is a good place for that. You can set up your sidebar to help finding pages. The footer is a good place to add general information that's true for each page.

### Settings

Alright, the settings! Here, you can choose which section you want to display on your repo. For instance, if you don't use the wiki or project board, remove it.

Me, I do two main things in the settings : I deploy a GitHub pages for API documentation and I project my main branches (`main` and `develop`).

As of now, I don't have an API doc. I'll show how to set up GitHub pages when we'll write the doc.

As for the branches protection, it's a good idea to set 2 reviewer approvals, a passing CI check and an up-to-date branche before merging PRs. You won't have to deal with unstable or unsecure code in your good branches. In my case, I won't require 2 reviewer approvals, since I work alone, but you get that it's important in a team project.

## Conclusion

Good, that's pretty much it! GitHub is huge and very configurable. If you have questions about your repos, don't hesitate to leave me a comment on YouTube (or on my website, we'll I'll have that implemented).

The next post is pretty dope : we'll decide our first iteration and make issues for it. I'll use the project board to organize the list of tasks to do.

Alright, until next time, see ya!
